{"content": "# Paella Server\n\nThe paella server is a [Pyramid](http://www.pylonsproject.org/) web \nserver that has a simple\n[REST](http://en.wikipedia.org/wiki/Representational_state_transfer) \ninterface for handling the machines.  The web server is also responsible \nfor serving the preseed files and configuration scripts that are \nspecific to the machine being installed or configured.  At this time, \nthe paella server **must** have write access to the pxelinux.cfg directory \nin the directory that contains the pxelinux.0 file mentioned by the \ndhcp server.  This is currently hardcoded to /var/lib/tftpboot/pxelinux.cfg \nand needs to be adapted.\n\nThe paella server will also help with maintaining partial local debian \nrepositories.\n\n## Interface\n\n### /paella/api0/machines\n\nThis is the main url for managing the machines.  All POST and GET \nrequests have an \"action\" parameter.\n\n#### GET Actions\n\n- **identify** (uuid=\"system-uuid\")  \n  This is not implemented.  At the moment there is only\n  one GET request that performs this fuction and doesn't require an \n  action parameter.  The server will respond with a bad request error \n  if there is no uuid parameter.\n\n#### POST Actions\n\n- **submit** (name, uuid)  \n  This is the command that creates a machine in the database,\n  with a unique name tied to the system uuid.\n\n- **install** (uuid)  \n  This is the command that instructs the server to create a\n  PXE config file for the machine identified by the uuid.\n\n- **stage_over** (uuid)  \n  This is the command that instructs the server to delete the \n  PXE config file for the machine identified by the uuid.\n\n- **update_machine** (uuid, name=None, recipe=None, autoinstall=None)  \n  The uuid is required.  Any parameter that is not None will be updated \n  accordingly in the database.  The autoinstall paramater is boolean.  \n  The recipe is identified by a unique name.\n  \n- **update_package_list**\n  This needs to be done with another url.\n\n### /paella/api0/recipes and /paella/api0/recipes/{name}\n\nThis is a simple CRUD interface for the partman recipes.\n\n\n### /paella/preseed/{uuid}\n\nThis url provides the [preseed](#pages/preseed) file for the \ndebian installer.\n\n### /paella/latecmd/{uuid}\n\nThis url provides the late command for the debian installer.\n", "id": "paella-server"}