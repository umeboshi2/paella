{"content": "# Paella Server\n\nThe paella server is a [Pyramid](http://www.pylonsproject.org/) web \nserver that has a simple\n[REST](http://en.wikipedia.org/wiki/Representational_state_transfer) \ninterface for handling the machines.  The web server is also responsible \nfor serving the preseed files and configuration scripts that are \nspecific to the machine being installed or configured.  At this time, \nthe paella server **must** have write access to the pxelinux.cfg directory \nin the directory that contains the pxelinux.0 file mentioned by the \ndhcp server.  This is currently hardcoded to /var/lib/tftpboot/pxelinux.cfg \nand needs to be adapted.\n\nThe paella server will also help with maintaining partial local debian \nrepositories.\n\n## Browser Client\n\nThe client is being written on the paella branch of [conspectus](https://github.com/umeboshi2/conspectus.git).  Authentication will be required to perform any useful\nmanagement action on a machine.\n\n\n## REST Interface\n\n### Prefix\n\nThe current prefix for all requests in /paella/rest/v0/main\n\n\n### /machines\n\nThis is the main url for managing the machines from the target machine.  All\nPOST and GET requests have an \"action\" parameter.  Also, all POST and GET\nrequests require a **uuid** paramater to identify the machine making the\nrequest.\n\n#### GET Actions\n\n- /machines/{uuid}\n  This will basically get a JSON machine object from the database.\n\n#### POST Actions\n\n- **submit** (name, uuid)  \n  This is the command that creates a machine in the database,\n  with a unique name tied to the system uuid.\n\n- **install** (uuid)  \n  This is the command that instructs the server to create a\n  PXE config file for the machine identified by the uuid.\n\n- **stage_over** (uuid)  \n  This is the command that instructs the server to delete the \n  PXE config file for the machine identified by the uuid.\n\n- **update_machine** (name=None, recipe=None, autoinstall=None)\n  /admin/machines/{uuid}\n  Any parameter that is not None will be updated accordingly in the \n  database.  The autoinstall paramater is boolean. The recipe is \n  identified by a unique name.\n  \n- **update_package_list**\n  This needs to be done with another url.\n\n\n### /admin/machines\n\n\n### /recipes and /recipes/{name}\n\nThis is a simple CRUD interface for the partman recipes.\n\n\n## Other endpoints\n\n### /paella/preseed/{uuid}\n\nThis url provides the [preseed](#pages/preseed) file for the \ndebian installer.\n\n### /paella/latecmd/{uuid}\n\nThis url provides the late command for the debian installer.\n", "id": "paella-server"}