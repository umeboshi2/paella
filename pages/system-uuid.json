{"content": "# [Paella](#)\n\n## System UUID\n\nThe machines on the paella network are identified by their system \nuuid.  In normal network operations, AFAICT, the system uuid is only \ntransferred over the network during the PXE negotiation, in plaintext.  \nWhen using paella, the uuid, is transferred over the network in http \nrequests by the client when identifying itself to the server.  The paella \ndatabase should not provide a uuid to a paella client.\n\nEven though paella is really meant to be used on a local network where \nthe administrator has enough physical access and monitoring ability to \nprovide trust during a network install, it would be valuable to raise \nthe bar of an attacker to the point of having to discover or guess a \nsystem uuid.  Due to the nature of PXE, attempts to write code that \nwould block an attacker that sniffs the network would be pointless.  \nThe design is mostly to keep a user of one machine to be able to \nretrieve the pillar data or minion keys of another machine.\n\n\n## Rules Concerning System UUID\n\nThese are the rules that are intended to be implemented in the paella \nsystem.\n\n### Submit Machine\n\nSubmit machine will submit uuid and name.  UUID is gathered from system \nautomatically; name must be entered as command line argument.  This will \nbe a POST request. (/paella/api0/machines)\n\nIf the uuid is present in the database, the POST request will fail if \nthe name is not identical, but will succeed if the name is identical.  The \nname of the machine can be changed on a PUT/PATCH request with \naction='update', as long as the new name doesn't already exist.\n\n### Set Install\n\nThe set install script is requesting the machine by uuid using a GET \nrequest.\n\nIf the uuid is present in the database, the server will create the\npxe config files.  The preseed file will need to be retrieved using \nthe uuid, rather than the name.  This needs to be true for the late \ncommand script as well.\n\n### Salt Minion\n\nThe salt minion id will be the name of the machine, which will be \nunique.  It seems to be too cumbersome to use the uuid as the minion \nid when maintaining configurations.\n\n## Network Discovery of UUIDs\n\nUsing system uuids as identifiers provides a small obstacle to \nhaving everything that is needed to configure a certain machine \navailable to another machine on the network.  It's not intended \nto be a security measure, as it stands, but help a more concerned \nadministrator to be able to constrain things more by enabling \nauthentication on the paella web server, and using ssl where \npossible.  It may be possible to use http://user:pass@ip/preseed/uuid \n\n\n\n\n\n\n", "id": "system-uuid"}