{"content": "# [Paella](#)\n\n- [news](#pages/news)\n\n- [uuid](#pages/system-uuid)\n\n- [pillar data](#pages/pillar-data)\n\n- [install procedure](#pages/install-procedure)\n\n- [pxe issues](#pages/pxe-issues)\n\n- [preseed](#pages/preseed)\n\n- [todo](#pages/todo)\n\n- [history](#pages/history)\n\n- [vagrant](#pages/vagrant)\n\n- [live system](#pages/live-system)\n\n\n## Introduction \n\nPaella is a system for that has been used to install preconfigured \ndebian systems over a local network in a manner similar to FAI_.  The \nproject started in 2004 as a set of scripts within the FAI installer than \ncommunicated with a PostgreSQL database to retrieve the configuration for \nthe target machine.\n\nThe old website for this project is at http://paella.berlios.de\n\n## Outline\n\nHow is paella going to work?\n\nTwo deployment scenarios:\n\n1. Set up a network in the office or workplace of a person who creates servers \n   for people.  This person can use paella to create fully configured machines \n   that can be physically carried and installed at another location.\n\n2. Set up a network where the hosts on the network are installed and managed \n   by a paella server.\n\n### Install Routine\n\n#### Default Live System\n\nBoot a machine over the network.  The default boot menu will allow you to \nboot into a live system where you can identify the machine and set a flag \non the server to install the machine.\n\nTwo scripts on the live system:\n\n1. paella-submit-machine <name>\n   \n   1. sends a name to the server\n   \n\t   - actually sends json.dumps(\n\t\t dict(action='submit', machine=name, addresses=[a1, a2]))\n\t\t in a POST request to http://host/paella/machines\n   \n   2. the salt config should already have this name\n   \n   3. all mac addresses sent to server and tied to name\n   \n\n2. install-machine\n   \n   1. machine must already be submitted by script above\n   \n   2. name lookup based on matching mac address\n   \n   3. the script gets addresses on local machine then checks \n   http://host/paella/addresses/{address} for a machine name, \n   accepting the first match.\n\t\t \n   4. after a successful match, the retrieved machine name is sent \n   in a POST request dict(action='install', machine=name) to\n   http;//host/paella/machines .\n   \n   5. The request above tells the server to create special pxe config \n   files named after the mac addresses linked to the machine in the \n   database.\n   \n   6. The distinctive feature of the specific pxe config file for the\n   mac address of the target machine is that appends a preseed \n   url to the kernel command line specific to the machine.\n   \n\t   - http://host/paella/preseed/{machine}\n\t   \n   7. It is the preseed file's duty to make sure salt-minion is installed,\n   and the machine identified for the minion to work.  This is currently being \n   done using hostname.\n\n\n\n\n# Paella\n\n[hello](#pages/foobar)\n[hello](#pages/foobar)\n\n\n## Introduction \n\nPaella is a system for that has been used to install preconfigured \ndebian systems over a local network in a manner similar to FAI_.  The \nproject started in 2004 as a set of scripts within the FAI installer than \ncommunicated with a PostgreSQL database to retrieve the configuration for \nthe target machine.\n\nThe old website for this project is at http://paella.berlios.de\n\n## NEWS\n\n- Paella is being rewritten completely.  \n\n- [Vagrant](http://www.vagrantup.com/) is being used to create a \n  testing environment.\n\n- Currently using i386 vagrant box running debian/wheezy\n\n- Using Debian Installer via PXE for first stage install\n\n- Using [salt](http://saltstack.org/) for second stage\n  installation and configuration.\n\n## Outline\n\nHow is paella going to work?\n\nTwo deployment scenarios:\n\n1. Set up a network in the office or workplace of a person who creates servers \n   for people.  This person can use paella to create fully configured machines \n   that can be physically carried and installed at another location.\n\n2. Set up a network where the hosts on the network are installed and managed \n   by a paella server.\n  \n### Install Routine\n\n   \n \n", "id": "index"}